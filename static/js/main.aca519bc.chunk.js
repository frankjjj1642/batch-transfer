(this.webpackJsonpMultisender=this.webpackJsonpMultisender||[]).push([[5],{53:function(e,s,t){},61:function(e,s,t){var n={"./apl/apl.js":[95,29],"./asciiarmor/asciiarmor.js":[96,30],"./asn.1/asn.1.js":[97,31],"./asterisk/asterisk.js":[98,32],"./brainfuck/brainfuck.js":[99,33],"./clike/clike.js":[84,1],"./clojure/clojure.js":[100,34],"./cmake/cmake.js":[101,35],"./cobol/cobol.js":[102,36],"./coffeescript/coffeescript.js":[85,37],"./commonlisp/commonlisp.js":[103,38],"./crystal/crystal.js":[104,39],"./css/css.js":[82,0],"./cypher/cypher.js":[105,40],"./d/d.js":[106,41],"./dart/dart.js":[107,1,42],"./diff/diff.js":[108,43],"./django/django.js":[109,0,10],"./dockerfile/dockerfile.js":[110,20],"./dtd/dtd.js":[111,44],"./dylan/dylan.js":[112,45],"./ebnf/ebnf.js":[113,46],"./ecl/ecl.js":[114,47],"./eiffel/eiffel.js":[115,48],"./elm/elm.js":[116,49],"./erlang/erlang.js":[117,50],"./factor/factor.js":[118,21],"./fcl/fcl.js":[119,51],"./forth/forth.js":[120,52],"./fortran/fortran.js":[121,53],"./gas/gas.js":[122,54],"./gfm/gfm.js":[123,3,19],"./gherkin/gherkin.js":[124,55],"./go/go.js":[125,56],"./groovy/groovy.js":[126,57],"./haml/haml.js":[127,0,13],"./handlebars/handlebars.js":[86,15],"./haskell-literate/haskell-literate.js":[128,25],"./haskell/haskell.js":[87,58],"./haxe/haxe.js":[129,59],"./htmlembedded/htmlembedded.js":[130,0,9],"./htmlmixed/htmlmixed.js":[81,0,26],"./http/http.js":[131,60],"./idl/idl.js":[132,61],"./javascript/javascript.js":[30],"./jinja2/jinja2.js":[133,62],"./jsx/jsx.js":[134,27],"./julia/julia.js":[135,63],"./livescript/livescript.js":[136,64],"./lua/lua.js":[137,65],"./markdown/markdown.js":[92,3],"./mathematica/mathematica.js":[138,66],"./mbox/mbox.js":[139,67],"./meta.js":[31],"./mirc/mirc.js":[140,68],"./mllike/mllike.js":[141,69],"./modelica/modelica.js":[142,70],"./mscgen/mscgen.js":[143,71],"./mumps/mumps.js":[144,72],"./nginx/nginx.js":[145,73],"./nsis/nsis.js":[146,22],"./ntriples/ntriples.js":[147,74],"./octave/octave.js":[148,75],"./oz/oz.js":[149,76],"./pascal/pascal.js":[150,77],"./pegjs/pegjs.js":[151,78],"./perl/perl.js":[152,79],"./php/php.js":[153,0,1,16],"./pig/pig.js":[154,80],"./powershell/powershell.js":[155,81],"./properties/properties.js":[156,82],"./protobuf/protobuf.js":[157,83],"./pug/pug.js":[93,0,2],"./puppet/puppet.js":[158,84],"./python/python.js":[88,85],"./q/q.js":[159,86],"./r/r.js":[160,87],"./rpm/rpm.js":[161,88],"./rst/rst.js":[162,12],"./ruby/ruby.js":[83,89],"./rust/rust.js":[163,23],"./sas/sas.js":[164,90],"./sass/sass.js":[90,0,91],"./scheme/scheme.js":[165,92],"./shell/shell.js":[166,93],"./sieve/sieve.js":[167,94],"./slim/slim.js":[168,0,14],"./smalltalk/smalltalk.js":[169,95],"./smarty/smarty.js":[170,96],"./solr/solr.js":[171,97],"./soy/soy.js":[172,0,17],"./sparql/sparql.js":[173,98],"./spreadsheet/spreadsheet.js":[174,99],"./sql/sql.js":[175,100],"./stex/stex.js":[89,101],"./stylus/stylus.js":[94,4],"./swift/swift.js":[176,102],"./tcl/tcl.js":[177,103],"./textile/textile.js":[178,104],"./tiddlywiki/tiddlywiki.js":[179,105],"./tiki/tiki.js":[180,106],"./toml/toml.js":[181,107],"./tornado/tornado.js":[182,0,11],"./troff/troff.js":[183,108],"./ttcn-cfg/ttcn-cfg.js":[185,109],"./ttcn/ttcn.js":[184,110],"./turtle/turtle.js":[186,111],"./twig/twig.js":[187,18],"./vb/vb.js":[188,112],"./vbscript/vbscript.js":[189,113],"./velocity/velocity.js":[190,114],"./verilog/verilog.js":[191,115],"./vhdl/vhdl.js":[192,116],"./vue/vue.js":[193,0,4,2,8],"./wast/wast.js":[194,24],"./webidl/webidl.js":[195,117],"./xml/xml.js":[80,118],"./xquery/xquery.js":[196,119],"./yacas/yacas.js":[197,120],"./yaml-frontmatter/yaml-frontmatter.js":[198,28],"./yaml/yaml.js":[91,121],"./z80/z80.js":[199,122]};function r(e){if(!t.o(n,e))return Promise.resolve().then((function(){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=n[e],r=s[0];return Promise.all(s.slice(1).map(t.e)).then((function(){return t.t(r,7)}))}r.keys=function(){return Object.keys(n)},r.id=61,e.exports=r},67:function(e,s,t){},69:function(e,s){},79:function(e,s,t){"use strict";t.r(s);var n=t(7),r=t.n(n),a=t(38),c=t.n(a),i=(t(53),t(2)),l=t.n(i),o=t(39),j=t(15),d=t(16),u={address:"0x75bA6F6Db38f319A38E9C7126026b0Ed9a674f60",abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address payable[]",name:"addrs",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"address",name:"_token",type:"address"}],name:"multiSender",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable[]",name:"addrs",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"multiSenderBase",outputs:[],stateMutability:"payable",type:"function"}]},p=t(23),b=t(40),m=(t(62),t(65),t(30),t(5));var f=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Conflux Espace Batch Transfer tool  "}),Object(m.jsxs)("table",{className:"table",children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"PPI"}),Object(m.jsx)("td",{children:"0x22f41abf77905f50df398f21213290597e7414dd"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"ABC"}),Object(m.jsx)("td",{children:"0x905f2202003453006eaf975699545f2e909079b8"})]})]}),Object(m.jsx)("h2",{children:" Step 1:            Input the erc token name, if empty, it will send CFX."}),Object(m.jsx)("input",{onChange:function(s){return e.setTokenAddress(s.target.value)},value:e.tokenAddress,type:"text",name:"ERC20",size:"50"}),Object(m.jsx)("br",{}),Object(m.jsx)("h2",{children:"Step 2:  Add Recipients Addresses and amount of token to send "}),"eg:",Object(m.jsx)("br",{}),"0xa2bf6c5395a9fb1bBdD0C35C78CA016c6fEe6bdC,12",Object(m.jsx)("br",{}),"0x2b0bAC6141dDc7b6ec1e30592c29Cae10ebEAaC6,12.345",Object(m.jsx)("div",{style:{height:"200px"},children:Object(m.jsx)(b.a,{value:"",onChange:function(s){!function(s){var t=s.doc.lineCount();e.setRecievers([]);for(var n=function(t){var n=s.doc.getLine(t).replace(/\s/g,"");if(0==n.length)return"continue";var r=n.split(","),a=Object(j.a)(r,2),c=a[0],i=a[1];console.log(19,parseFloat(i).toFixed(4)),e.setRecievers((function(e){return[].concat(Object(p.a)(e),[{address:String(c),amount:parseFloat(i).toFixed(4)}])}))},r=0;r<t;r++)n(r)}(s)},style:{width:"50% !important"},options:{theme:"monokai",keyMap:"sublime",lineNumbers:!0,mode:"javascript"}})})]})};t(67);var h=function(){var e,s,t=new d.a.providers.Web3Provider(window.ethereum),r=t.getSigner(),a=new d.a.Contract(u.address,u.abi,r),c=["function name() view returns (string)","function symbol() view returns (string)","function balanceOf(address) view returns(uint)","function transfer(address to, uint amount)","function approve(address spender, uint amount) returns(bool)","function decimals() view returns (uint8)"],i=Object(n.useState)(""),p=Object(j.a)(i,2),b=p[0],h=p[1],x=Object(n.useState)([]),g=Object(j.a)(x,2),y=g[0],v=g[1],O=Object(n.useState)(0),k=Object(j.a)(O,2),w=k[0],C=k[1];function S(e){var s={height:"10px",width:"10px",borderRadius:"90%",border:"solid 2px",backgroundColor:"white",margin:"0 auto"};return w===e&&(s.backgroundColor="blue"),s}function A(){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(l.a.mark((function n(){var i,o,j,p,m,f,h,x,g,v,O;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(2!==w){n.next=20;break}return n.prev=1,i=y.map((function(e){return e.address})),o=y.map((function(e){return parseInt(1e9*e.amount)})),console.log(i,o,"erc20",b),n.next=7,a.multiSender(i,o,b);case 7:return j=n.sent,n.next=10,j.wait();case 10:C(0),alert("Transaction Send Successfully"),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(1),console.log(n.t0,60),alert("There was a problem sending the transaction, Please try again!");case 18:n.next=64;break;case 20:if(0!==w){n.next=64;break}if(n.prev=21,console.log(67,b),""!=b){n.next=36;break}return p=y.map((function(e){return e.address})),m=y.map((function(e){return parseInt(1e9*e.amount)})),console.log(68,y,p,m,"xxxxx",m.reduce((function(e,s){return e+s}),0)/Math.pow(10,9)),f={value:d.a.utils.parseEther(""+m.reduce((function(e,s){return e+s}),0)/Math.pow(10,9))},n.next=30,a.multiSenderBase(p,m,f);case 30:return h=n.sent,n.next=33,h.wait();case 33:alert("successfully transferred cfx"),n.next=57;break;case 36:return console.log(74),n.next=39,t.send("eth_requestAccounts",[]);case 39:return x=n.sent,console.log(11,t,x),console.log("erc20",b),e=new d.a.Contract(b,c,r),console.log(65,e),n.next=46,e.decimals();case 46:return console.log(66,s),C(1),g=y.map((function(e){return Number(e.amount)})),console.log(72,g),n.next=52,e.approve(u.address,d.a.utils.parseUnits(g.reduce((function(e,s){return e+s}),0).toString(),s));case 52:return v=n.sent,console.log(74,v),n.next=56,v.wait();case 56:C(2);case 57:n.next=64;break;case 59:n.prev=59,n.t1=n.catch(21),console.log(78,n.t1,"79"),O=String(n.t1),4001===n.t1.code?C(0):0!==O.indexOf("ENS")&&alert("Incorrect token address, or not connect the wallet");case 64:case"end":return n.stop()}}),n,null,[[1,14],[21,59]])})))).apply(this,arguments)}return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)("h1",{children:"Batch Transfer Tool (Created by Frank Jin)"}),Object(m.jsx)("p",{children:"Send any ERC20 token to multiple users !"}),Object(m.jsx)("p",{children:"Conflux eSpace "}),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsxs)("div",{className:"statusBar",style:{padding:"10px"},children:[Object(m.jsx)("div",{style:S(0)}),Object(m.jsx)("p",{children:"Details"})]}),Object(m.jsxs)("div",{className:"statusBar",style:{padding:"10px"},children:[Object(m.jsx)("div",{style:S(1)}),Object(m.jsx)("p",{children:"Approve"})]}),Object(m.jsxs)("div",{className:"statusBar",style:{padding:"10px"},children:[Object(m.jsx)("div",{style:S(2)}),Object(m.jsx)("p",{children:"Send"})]})]}),0===w&&Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{tokenAddress:b,setTokenAddress:function(e){return h(e)},setRecievers:function(e){return v(e)}}),Object(m.jsx)("button",{onClick:A,children:"Approve"})]}),1===w&&Object(m.jsx)("p",{children:"Transaction is being approved..."}),2===w&&Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Send Transaction"}),Object(m.jsx)("button",{onClick:A,children:"Send"})]})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("h1",{children:"How to use it"}),Object(m.jsx)("img",{src:"/howtouse.png"})]})},x=function(e){e&&e instanceof Function&&t.e(123).then(t.bind(null,204)).then((function(s){var t=s.getCLS,n=s.getFID,r=s.getFCP,a=s.getLCP,c=s.getTTFB;t(e),n(e),r(e),a(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(h,{})}),document.getElementById("root")),x()}},[[79,6,7]]]);
//# sourceMappingURL=main.aca519bc.chunk.js.map